<!DOCTYPE html>
<html translate="no">

<head>
	<title>Rom Patcher JS - GitHub Pages Sample</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />

	<!-- Rom Patcher JS needed CSS/JS files -->
	<link type="text/css" rel="stylesheet" href="./rom-patcher-js/style.css" media="all" />
	<script type="text/javascript" src="./rom-patcher-js/RomPatcher.webapp.js"></script>

	<!-- Custom CSS-->
	<link type="text/css" rel="stylesheet" href="customstyle.css" media="all" />

	<!-- Rom Patcher JS initialization -->
	<script type="text/javascript">
		window.addEventListener('load', function (evt) {
			// Patch information
			const OUTPUT_NAME = "Pokemon Crystal Legacy (Rev v1.3.1) (TheSmithPlays) (Hack)" // Name of the output ROM file
			// Known CRC32 hashes
			const CRC32_REV0 = 'ee6f5188'; // Pokemon Crystal (USA)
			const CRC32_REV1 = '3358e30a'; // Pokemon Crystal (USA) (Rev 1)
			const CRC32_INVALID = ['270c4ecc', 'bb6dd80c']; // Japan, Aus
			try {
				RomPatcherWeb.initialize({
					language: 'en', // English
					requireValidation: false, // Allow applying patch if the ROM is invalid
					allowDropFiles: true, // Allow basic drag and drop support
					onloadrom: function (romFile) {
						const CRC32 = romFile.hashCRC32(); // Provided ROM file hash
						// Load patch for Rev 0 if hash matches
						if (CRC32 === CRC32_REV0)
							RomPatcherWeb.pickEmbededFile('Version USA/Pokemon_Crystal_Legacy_USA_1.0_Patch.bps');
						// Load patch for Rev 1 if hash matches
						else if (CRC32 === CRC32_REV1)
							RomPatcherWeb.pickEmbededFile('Version USA, Europe Rev 1/Pokemon_Crystal_Legacy_USA_1.1_Patch.bps');
					},
					onvalidaterom: function (romFile, isRomValid) {
						const CRC32 = romFile.hashCRC32();
						if (!isRomValid && CRC32_INVALID.indexOf(CRC32) !== -1) // Error message for known invalid ROM hash
							RomPatcherWeb.setErrorMessage('This is a known invalid ROM. This patch will not function properly.');
						else if (!isRomValid && CRC32_INVALID.indexOf(CRC32) === -1) // Error message for unknown ROM hash
							RomPatcherWeb.setErrorMessage('This is an unknown ROM. This patch will likely not function properly.');
					}
				}, {
					file: './patches/Pokemon.Crystal.Legacy.V1.3.1.Patches.zip', // Path to .zip containing patches
					patches: [{ // Info about patches contained in .zip
						file: 'Version USA/Pokemon_Crystal_Legacy_USA_1.0_Patch.bps', // Required, must match the file path in the .zip
						name: 'Pokémon Crystal Legacy (Latest)', // Patch name that appears in dropdown
						inputCrc32: CRC32_REV0, // CRC32 checksum validation
						inputMd5: '9f2922b235a5eeb78d65594e82ef5dde', // MD5 checksum validation
						description: 'Patches Pokémon Crystal (USA) to Pokémon Crystal Legacy.', // Description that appears when patch is selected
						outputName: OUTPUT_NAME // Patched ROM file name
					}, {
						file: 'Version USA, Europe Rev 1/Pokemon_Crystal_Legacy_USA_1.1_Patch.bps',
						name: 'Pokémon Crystal Legacy (Latest) for Rev 1',
						inputCrc32: CRC32_REV1,
						inputMd5: '301899b8087289a6436b0a241fbbb474',
						description: 'Patches Pokémon Crystal (USA, Europe) (Rev 1) to Pokémon Crystal Legacy.',
						outputName: OUTPUT_NAME
					}]
				});
			} catch (err) {
				var message = err.message;
				if (/incompatible browser/i.test(message) || /variable RomPatcherWeb/i.test(message))
					message = 'Your browser is outdated and it is not compatible with this app.';

				document.getElementById('rom-patcher-container').innerHTML = message;
				document.getElementById('rom-patcher-container').style.color = 'red';
			}
		});
	</script>
</head>

<!-- Use this to change web page display based on chosen patch file (or provided rom, etc) -->
<!-- RomPatcher.initialize(
	{
		onloadpatch: function (patchFile, embededPatchInformation) {
			if (patchFile.getName() === 'legend_of_mana_sword_amanda') {
				document.getElementById('screenshots_amanda').style.display = 'block';
				document.getElementById('screenshots_duke').style.display = 'none';
			}
			else if(patchFile.getName() === 'legend_of_mana_sword_duke'){
				document.getElementById('screenshots_amanda').style.display = 'none';
				document.getElementById('screenshots_duke').style.display = 'block';
			}
		}
	}, -->

<!-- Use setEmbededPatches to switch patches available. -->
<!-- For example, a different set of Patches for Pokemon Yellow, Crystal, and Emerald in one link (in which case it should be in "onloadrom"). -->
<!-- RomPatcherWeb.setEmbededPatches({
	file: 'other_patches.zip',
	name: 'Other patches',
	patches: [
		// 
	]
});*/ -->

<body style="font: 15px 'Open Sans', sans-serif; background-color: #31343a; color: #e4e4e6;">
	<header style="text-align: center">
		<h1>ROM Patch Title Patcher</h1>
		<p>
			Brief description of the ROM patch.
		</p>
	</header>


	<!-- Rom Patcher JS container -->
	<!--
		The following elements are required for Rom Patcher JS to work:
			#rom-patcher-input-file-rom
			#rom-patcher-select-patch
			#rom-patcher-button-apply
		The rest of elements are informative and can be removed, though it's recommended to keep them for a better user experience.
	-->
	<div id="rom-patcher-container">
		<div class="rom-patcher-row margin-bottom" id="rom-patcher-row-file-rom">
			<div class="text-right"><label for="rom-patcher-input-file-rom" data-localize="yes">ROM file:</label></div>
			<div class="rom-patcher-container-input">
				<input type="file" id="rom-patcher-input-file-rom" class="empty" disabled />
			</div>
		</div>
		<div class="margin-bottom text-selectable text-mono text-muted" id="rom-patcher-rom-info">
			<div class="rom-patcher-row">
				<div class="text-right">CRC32:</div>
				<div class="text-truncate"><span id="rom-patcher-span-crc32"></span></div>
			</div>
			<div class="rom-patcher-row">
				<div class="text-right">MD5:</div>
				<div class="text-truncate"><span id="rom-patcher-span-md5"></span></div>
			</div>
			<div class="rom-patcher-row">
				<div class="text-right">SHA-1:</div>
				<div class="text-truncate"><span id="rom-patcher-span-sha1"></span></div>
			</div>
			<div class="rom-patcher-row" id="rom-patcher-row-info-rom">
				<div class="text-right">ROM:</div>
				<div class="text-truncate"><span id="rom-patcher-span-rom-info"></span></div>
			</div>
		</div>

		<div class="rom-patcher-row margin-bottom" id="rom-patcher-row-file-patch">
			<div class="text-right"><label for="rom-patcher-input-file-patch" data-localize="yes">Patch file:</label>
			</div>
			<div class="rom-patcher-container-input">
				<select id="rom-patcher-select-patch"></select>
			</div>
		</div>
		<div class="rom-patcher-row margin-bottom" id="rom-patcher-row-patch-description">
			<div class="text-right text-mono text-muted" data-localize="yes">Description:</div>
			<div class="text-truncate" id="rom-patcher-patch-description"></div>
		</div>
		<div class="rom-patcher-row margin-bottom text-selectable text-mono text-muted"
			id="rom-patcher-row-patch-requirements">
			<div class="text-right text-mono" id="rom-patcher-patch-requirements-type">ROM requirements:</div>
			<div class="text-truncate" id="rom-patcher-patch-requirements-value"></div>
		</div>

		<div class="text-center" id="rom-patcher-row-apply">
			<div id="rom-patcher-row-error-message" class="margin-bottom"><span id="rom-patcher-error-message"></span>
			</div>
			<button id="rom-patcher-button-apply" data-localize="yes" disabled>Apply patch</button>
		</div>
			<br><font size="3"><strong>Recommended Emulators</strong></font></br>
			List Recommended Emulators.
			<br><font size="3"><strong>Other Information</strong></font></br>
			Any other relevant information.
	</div>
<!-- FOOTER -->
<footer>
	<div>
		<button id="button-settings" class="btn-transparent"><img src="./webapp/icon_settings.svg" loading="lazy" class="icon settings" /> <span data-localize="yes">Settings</span></button>
	</div>
	<div id="rom-patcher-powered" class="text-center">
		<a href="https://github.com/marcrobledo/RomPatcher.js" target="_blank"><img
				src="rom-patcher-js/assets/powered_by_rom_patcher_js.png" loading="lazy" />Powered by Rom Patcher JS v3.2.1</a>
	</div>
	<div class="footer-link text-center">
		<a href="https://github.com/cRz-Shadows/Pokemon_Crystal_Legacy" target="_blank"><img
				src="images/github-light.webp" loading="lazy" />cRz-Shadows/Pokemon_Crystal_Legacy</a>
	</div>
	<div class="footer-link text-center">
		<a href="https://github.com/mike94100/RomPatcher-GitHubPages-Sample" target="_blank"><img
				src="images/github-light.webp" loading="lazy" />mike94100/RomPatcher-GitHubPages-Sample</a>
	</div>
	<div class="footer-link text-center">
		<a href="https://www.reddit.com/r/PokemonROMhacks/" target="_blank"><img
				src="images/reddit.webp" loading="lazy" />r/PokemonROMhacks</a>
	</div>
	<div class="footer-link text-center">
		<a href="https://discord.com" target="_blank"><img
				src="images/discord.webp" loading="lazy" />Discord</a>
	</div>
	<div class="footer-link text-center">
		<a href="https://www.pokecommunity.com/forums/rom-hacks-showcase.184/" target="_blank"><img
				src="images/pokecommunity.webp" loading="lazy" />Pokécommunity</a>
	</div>
	<div class="footer-link text-center">
		<a href="https://www.igdb.com/games/pokemon-crystal-legacy" target="_blank"><img
				src="images/igdb.webp" loading="lazy" />IGDB</a>
	</div>
	<div class="footer-link text-center">
		<a href="https://retroachievements.org/game/31952" target="_blank"><img
				src="images/retroachievements.webp" loading="lazy" />Retroachievements</a>
	</div>
	<div class="footer-link text-center">
		<a href="https://hasheous.org/index.html?page=dataobjectdetail&type=game&id=263015" target="_blank"><img
				src="images/hasheous.webp" loading="lazy" />Hasheous</a>
	</div>

<!-- SETTINGS DIALOG -->
<dialog id="dialog-settings" class="rom-patcher-dialog">
	<div class="text-right m-b"><img id="dialog-settings-button-close" src="./webapp/icon_close.svg" loading="lazy" /></div>

	<div class="row m-b">
		<div><label for="settings-language">Language</label></div>
		<div class="text-right">
			<select id="settings-language" class="enabled">
				<option value="en">English</option>
				<option value="fr">Français</option>
				<option value="de">Deutsch</option>
				<option value="it">Italiano</option>
				<option value="es">Español</option>
				<option value="nl">Nederlands</option>
				<option value="sv">Svenska</option>
				<option value="ca">Català</option>
				<option value="ca-va">Valencià</option>
				<option value="pt-br">Português Brasileiro</option>
				<option value="ru">Russian</option>
				<option value="ja">日本語</option>
				<option value="zh-cn">中文（简体）</option>
				<option value="zh-tw">中文（正體）</option>
			</select>
		</div>
	</div>

	<div class="row row-lg m-b">
		<div><label data-localize="yes" for="settings-output-suffix">Use patch name for output</label></div>
		<div class="text-right"><input type="checkbox" id="settings-output-suffix" class="styled" /></div>
	</div>

	<div class="row row-lg m-b">
		<div><label data-localize="yes" for="settings-fix-checksum">Fix ROM checksum</label></div>
		<div class="text-right"><input type="checkbox" id="settings-fix-checksum" class="styled" /></div>
	</div>

	<div class="row row-lg">
		<div><label data-localize="yes" for="settings-light-theme">Light theme</label></div>
		<div class="text-right"><input type="checkbox" id="settings-light-theme" class="styled" /></div>
	</div>
</div>

</body>
	
</html>
